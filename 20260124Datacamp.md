# 20260124

## 一个agg()的完整代码
```
import numpy as np

# For each store type, aggregate weekly_sales: get min, max, mean, and median
sales_stats = sales.groupby("type")["weekly_sales"].agg([min,max,np.mean,np.median])

# Print sales_stats
print(sales_stats)

# For each store type, aggregate unemployment and fuel_price_usd_per_l: get min, max, mean, and median
unemp_fuel_stats = sales.groupby("type")[["unemployment","fuel_price_usd_per_l"]].agg([min,max,np.mean,np.median])

# Print unemp_fuel_stats
print(unemp_fuel_stats)
```

## pivot table 数据透视表
```
df.pivot_table(values="列名1", index="列名2", columns="列名3", aggfunc=np.mean)
```

| 参数 | 说明 | 对应 Excel |
| :--- | :--- | :--- |
| values | 要进行数值计算的列 | 值 (Values) |
| index | 结果中的行索引（分组依据） | 行 (Rows) |
| columns | 结果中的列索引（可选） | 列 (Columns) |
| aggfunc | 聚合函数，默认为 np.mean (平均值) | 值汇总方式 |
| fill_value | 将缺失值（NaN）替换为特定值 | - |
| margins | 是否添加行列总计 (默认 False) | 总计 (Grand Totals) |

