# 20250127
## 宽幅数据，没有重复，但可能有很多缺失值
适合简单运算
## 长数据，通常被视为clean的标准
长/宽数据的不同（说实话没怎么看懂）<br><br>
![](https://cdn.jsdelivr.net/gh/twicesquare/pics@main/20260127134857739.png)
疑似长数据->宽数据的转换
![](https://cdn.jsdelivr.net/gh/twicesquare/pics@main/20260127135210772.png)
## reshaping using pivot method pivot法
### df.pivot(index = "A", columns = "B", values = "C")
A: 哪一列作为索引  
B: 哪一列作为列名  
C: 哪一列作为填充/数值  

### Drop the fifth row
```
# axis=0 表示操作对象是“行”
fifa_no_rep = fifa_players.drop(4, axis=0)

# 或者如果你想根据位置删除，更稳妥的做法是使用索引名
# fifa_no_rep = fifa_players.drop(fifa_players.index[4])
```
在使用**df.pivot(index = "A", columns = "B")** 不含value时，需要确认没有重复值，不然会出错

## using Pivot tables 数据透视表法
### df.pivot_table(index = "A", columns = "B", values = "C", aggfunc = "D")
1. pivot_table可以避免pivot因为重复值而出错的问题，关键在于aggfunc，比如取"mean"就是平均值（如果没有两个值，那就是原值）
2. pivot_table可以拥有多层索引
3. `margins="True"`时，即默认添加所有行和列（添加总结）

### `discard(i)`, discard是集合的方法，不适用于df
`remove(x)`：如果元素 x 不在集合里，它会报错（抛出 KeyError）。

`discard(x)`：如果元素 x 不在集合里，它会保持沉默（什么都不做，也不报错）。
### `drop(i, axis=0)`
为了避免记混 axis=0（行）和 axis=1（列），现在的 Pandas 推荐使用语义化参数，这样就不需要写 axis 了:   

删除行：`df.drop(index=[1, 2])`  
删除列：`df.drop(columns=["col_A"])`
